#! /usr/bin/make -f
#
# debian/rules
# Part of Gracie, an OpenID provider
#
# Copyright © 2007–2009 Ben Finney <ben+debian@benfinney.id.au>
# This is free software; you may copy, modify and/or distribute this work
# under the terms of the GNU General Public License, version 2 or later.
# No warranty expressed or implied. See the file LICENSE for details.

# Uncomment this to turn on verbose mode.
### export DH_VERBOSE=1

PACKAGE_NAME = gracie

CURRENT_PYTHON_VERSION = $(shell pyversions -d)
DEB_PYTHON_INSTALL_ARGS_ALL += --root $(CURDIR)/debian/${PACKAGE_NAME}


.PHONY: build
build:
	dh build

.PHONY: clean
clean:
	dh clean

.PHONY: install
install: build
	dh --with python_central install

.PHONY: binary-indep
binary-indep: build install
	dh --with python_central binary-indep

.PHONY: binary-arch
binary-arch: build install

.PHONY: binary
binary: build binary-indep binary-arch

.PHONY: override_dh_installdirs
override_dh_installdirs:
	$(CURRENT_PYTHON_VERSION) setup.py install ${DEB_PYTHON_INSTALL_ARGS_ALL}
	dh_installdirs


# Local Variables:
# mode: makefile
# coding: utf-8
# End:
# vim: filetype=make fileencoding=utf-8 :
